{% extends '_layout.twig' %}

{% block title %}About Us | Bethesda Ministry
{% endblock %}

{% block head %}
  {{ parent() }}
  <link rel="stylesheet" href="/css/about.css?v={{ now.timestamp }}">
{% endblock %}


{% block content %}
  <div class="container">
    {% set heroImage = entry.heroBackground.one() %}
    <section class="hero hero--about" style="background: url('{{ heroImage ? heroImage.url : '/assets/images/hero-img.jpg' }}') center/cover no-repeat;">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <h1>{{ entry.heroHeading }}</h1>
        <p>{{ entry.heroSubheading }}</p>
      </div>
    </section>


    <section class="about-history">
      <div class="history-content">
        <h2>{{ entry.historyHeading }}</h2>
        <p>
          {{ entry.historyText }}</p>
      </div>

      {% set historyImg = entry.historyImage.one() %}
      <div class="history-image">
        {% if historyImg %}
          <img src="{{ historyImg.url }}" alt="Bethesda Ministry History">
        {% endif %}
      </div>
    </section>

    {% set scriptures = entry.dailyScripture.all() %}
    {% if scriptures|length %}
      {% set seed = now|date('Ymd')|hash('crc32')|integer %}
      {% set index = seed % scriptures|length %}
      {% set scripture = scriptures[index] %}

      <section class="scripture-section">
        <div class="scripture-container">
          <div class="scripture-text" data-animation="moveUpTitle">
            <h3 class="scripture-line">"{{ scripture.scriptureVerse }}"</h3>
          </div>
          <div class="scripture-text scripture-ref" data-animation="moveUpTitle">
            <p>{{ scripture.scriptureReference }}</p>
          </div>
        </div>
      </section>
    {% endif %}

    <section class="about-section">
      <h2>{{ entry.membersHeading }}</h2>

      {% if entry.membersList|length %}
        <div class="about-grid">
          {% for block in entry.membersList %}
            <div class="about-card">
              {% set memberImage = block.memberImage.one() %}
              {% if memberImage %}
                <img src="{{ memberImage.url }}" alt="{{ block.memberName }}">
              {% else %}
                <img src="/assets/images/default-profile.jpg" alt="{{ block.memberName }}">
              {% endif %}
              <div class="about-card-content">
                <h3>{{ block.memberName }}</h3>
                <p>{{ block.memberDescription }}</p>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p>No members added yet.</p>
      {% endif %}
    </section>


    <section class="about-section">
      <h2>{{ entry.artistsHeading }}</h2>

      {% if entry.artistsList|length %}
        <div class="about-grid">
          {% for block in entry.artistsList %}
            {% set img = block.artistImage.one() %}
            <div class="about-card">
              {% if img %}
                <img src="{{ img.url }}" alt="{{ block.artistName }}">
              {% endif %}
              <div class="about-card-content">
                <h3>{{ block.artistName }}</h3>
                <p>{{ block.artistDescription }}</p>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p>No artists have been added yet.</p>
      {% endif %}
    </section>


  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="/js/title-fade.js"></script>


{% endblock %}
